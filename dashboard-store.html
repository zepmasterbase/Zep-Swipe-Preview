<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ZepShop Digital Marketplace</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
  <style>
    /* Custom styles here */
  </style>
</head>
<body class="bg-gradient-to-t from-[#120b2e] to-[#0b0520] text-white font-poppins">
  <header class="fixed top-0 w-full p-4 backdrop-blur-md bg-[#0f0520cc] z-50 flex justify-between items-center">
    <h1 class="text-2xl font-orbitron text-transparent bg-clip-text bg-gradient-to-r from-[#00f0ff] to-[#ff00f0]">ZepShop</h1>
    <i class="fas fa-bell text-[#00f0ff] cursor-pointer hover:text-[#ff00f0] transition-transform transform hover:scale-110"></i>
  </header>

  <div class="mt-24 p-4">
    <div class="grid grid-cols-2 gap-4" id="marketplace"></div>
  </div>

  <div id="productModal" class="fixed inset-0 bg-[#0a0519cc] backdrop-blur-md z-100 hidden justify-center items-center">
    <div class="bg-[#0f0520] p-6 rounded-lg w-80">
      <span class="text-[#ff00f0] cursor-pointer absolute top-2 right-2 text-xl" onclick="closeModal()">&times;</span>
      <h3 id="modalTitle" class="text-[#00f0ff] text-xl"></h3>
      <p id="modalDescription" class="text-gray-400 mt-2"></p>
      <p id="modalPrice" class="text-[#39ff14] mt-2"></p>
      <p id="modalVendor" class="text-[#ff00f0] mt-2"></p>
      <select id="paymentToken" class="w-full mt-4 p-2 bg-[#120b2e] text-white border border-[#00f0ff] rounded">
        <option value="ZAC">ZAC</option>
        <option value="USDT">USDT</option>
        <option value="ETH">ETH</option>
      </select>
      <button id="buyBtn" class="w-full mt-4 p-2 bg-gradient-to-r from-[#00f0ff] to-[#ff00f0] text-white rounded">Buy Now</button>
      <canvas id="qrCode" class="w-full mt-4 hidden"></canvas>
      <p id="paymentConfirm" class="text-[#39ff14] mt-4 hidden">Payment Received!</p>
      <div id="txList" class="mt-4 max-h-32 overflow-y-auto"></div>
    </div>
  </div>

  <footer class="fixed bottom-0 w-full p-4 bg-[#0f0520cc] backdrop-blur-md z-50 flex justify-around">
    <a href="#" class="text-[#00f0ff] hover:text-[#ff00f0] transition-transform transform hover:scale-110">
      <i class="fas fa-cash-register text-2xl"></i>
      <span class="block text-xs">POS</span>
    </a>
    <a href="#" class="text-[#00f0ff] hover:text-[#ff00f0] transition-transform transform hover:scale-110">
      <i class="fas fa-comments text-2xl"></i>
      <span class="block text-xs">Chat</span>
    </a>
    <a href="#" class="text-[#00f0ff] hover:text-[#ff00f0] transition-transform transform hover:scale-110">
      <i class="fas fa-layer-group text-2xl"></i>
      <span class="block text-xs">Products</span>
    </a>
    <a href="#" class="text-[#00f0ff] hover:text-[#ff00f0] transition-transform transform hover:scale-110">
      <i class="fas fa-user text-2xl"></i>
      <span class="block text-xs">Profile</span>
    </a>
  </footer>

  <script>
    // Sample products with neon-style placeholder images
    const products = [
      { title: 'Neon NFT Art', desc: 'Futuristic neon NFT', image: 'https://via.placeholder.com/180x120/00f0ff/120b2e?text=Neon+NFT', zac: 500, usdt: 50 },
      { title: 'Neon AI Ebook', desc: 'AI guide with neon cover', image: 'https://via.placeholder.com/180x120/ff00f0/120b2e?text=Neon+Ebook', zac: 300, usdt: 30 },
      { title: 'Neon Stock Music', desc: 'Royalty-free neon music', image: 'https://via.placeholder.com/180x120/39ff14/120b2e?text=Neon+Music', zac: 200, usdt: 20 },
      { title: 'Neon Video Template', desc: 'Editable neon video', image: 'https://via.placeholder.com/180x120/00f0ff/120b2e?text=Neon+Video', zac: 400, usdt: 40 },
    ];

    // User wallet balances
    let wallet = { ZAC: 1000, USDT: 200, ETH: 1 };

    // Fetch live ETH and USDT prices
    async function fetchPrices() {
      try {
        const ethResponse = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd');
        const ethData = await ethResponse.json();
        const ethPrice = ethData.ethereum.usd;

        const usdtResponse = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=tether&vs_currencies=usd');
        const usdtData = await usdtResponse.json();
        const usdtPrice = usdtData.tether.usd;

        return { ethPrice, usdtPrice };
      } catch (error) {
        console.error('Error fetching prices:', error);
        return { ethPrice: 0, usdtPrice: 0 };
      }
    }

    // Render products in the marketplace
    function renderProducts() {
      const marketplace = document.getElementById('marketplace');
      marketplace.innerHTML = '';
      products.forEach(product => {
        const productElement = document.createElement('div');
        productElement.className = 'bg-[#0f0520] p-4 rounded-lg shadow-lg hover:scale-105 transition-transform';
        productElement.innerHTML = `
          <img src="${product.image}" alt="${product.title}" class="w-full h-32 object-cover rounded-lg mb-4">
          <h3 class="text-[#00f0ff] text-lg">${product.title}</h3>
          <p class="text-gray-400 text-sm">${product.desc}</p>
          <p class="text-[#39ff14] text-sm mt-2">Price: ${product.zac} ZAC</p>
          <p class="text-[#ff00f0] text-sm mt-1">Vendor: ${product.usdt} USDT</p>
        `;
        productElement.onclick = () => openModal(product);
        marketplace.appendChild(productElement);
      });
    }

    // Open product modal
    function openModal(product) {
      document.getElementById('modalTitle').textContent = product.title;
      document.getElementById('modalDescription').textContent = product.desc;
      document.getElementById('modalPrice').textContent = `Price: ${product.zac} ZAC`;
      document.getElementById('modalVendor').textContent = `Vendor: ${product.usdt} USDT`;
      document.getElementById('productModal').classList.remove('hidden');
    }

    // Close product modal
    function closeModal() {
      document.getElementById('productModal').classList.add('hidden');
    }

    // Initialize the app
    async function init() {
      const prices = await fetchPrices();
      console.log('ETH Price:', prices.ethPrice);
      console.log('USDT Price:', prices.usdtPrice);
      renderProducts();
    }

    init();
  </script>
</body>
</html>