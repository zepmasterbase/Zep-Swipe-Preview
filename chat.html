<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ZepChat Futuristic Dashboard</title>

<!-- Tailwind + Fonts + Icons -->
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
:root{
  --bg:#060216;
  --glass: rgba(255,255,255,0.04);
  --neon-blue:#00f0ff;
  --neon-pink:#ff00f0;
  --neon-mint:#3affc1;
  --neon-violet:#9b59b6;
}

/* Body & layout */
html,body{height:100%;margin:0;font-family:'Poppins',sans-serif;background:radial-gradient(circle at top,#0b0420 0%,var(--bg) 100%);color:#fff;}
.app{display:grid;grid-template-columns:320px 1fr 320px;gap:16px;padding:84px 16px 120px 16px;max-width:1200px;margin:0 auto;}
@media(max-width:1000px){.app{grid-template-columns:1fr;padding:84px 12px 120px 12px;}}

/* Header */
.header{position:fixed;top:0;left:0;right:0;height:64px;display:flex;align-items:center;justify-content:space-between;padding:0 20px;background:linear-gradient(90deg,rgba(255,255,255,0.03),rgba(255,255,255,0.01));backdrop-filter:blur(8px);z-index:60;box-shadow:0 0 20px rgba(0,255,255,0.1);}
.header .brand{display:flex;align-items:center;gap:12px;}
.header .logo{width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,var(--neon-mint),var(--neon-violet));display:flex;align-items:center;justify-content:center;color:#04020a;font-weight:700;font-family:'Orbitron';}
.header h1{margin:0;font-family:'Orbitron';font-size:1.05rem;letter-spacing:0.6px;color:transparent;background:linear-gradient(90deg,var(--neon-blue),var(--neon-violet));-webkit-background-clip:text;}
.header .icons i{color:var(--neon-blue);font-size:18px;cursor:pointer;transition:0.18s;}
.header .icons i:hover{color:var(--neon-violet);transform:scale(1.15);filter:drop-shadow(0 6px 12px rgba(255,0,240,0.08));}

/* Panel glass */
.panel{background:var(--glass);border-radius:12px;padding:12px;box-shadow:0 6px 30px rgba(0,0,0,0.6);border:1px solid rgba(255,255,255,0.02);}

/* Left panel: contacts */
.contacts-list{height:calc(100vh - 220px);overflow:auto;padding:6px;}
.contact-item{display:flex;gap:12px;align-items:center;padding:10px;border-radius:12px;cursor:pointer;transition:all .18s;margin-bottom:6px;}
.contact-item:hover{transform:translateY(-3px);box-shadow:0 6px 24px rgba(0,240,255,0.06);}
.contact-item.active{background: linear-gradient(90deg, rgba(0,240,255,0.05), rgba(255,0,240,0.02)); box-shadow:0 12px 40px rgba(0,240,255,0.03);}
.avatar{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-weight:700;color:#04020a;background:linear-gradient(90deg,var(--neon-mint),var(--neon-violet));box-shadow:0 0 10px var(--neon-mint),0 0 16px var(--neon-violet);position:relative;}
.avatar::after{content:'';position:absolute;width:10px;height:10px;border-radius:50%;bottom:0;right:0;background:#3affc1;box-shadow:0 0 6px #3affc1;}
.contact-meta small{color:rgba(255,255,255,0.7);display:block;font-size:12px;}

/* Center chat */
.chat-window{display:flex;flex-direction:column;height:calc(100vh - 220px);}
.chat-messages{flex:1;overflow:auto;padding:14px;display:flex;flex-direction:column;gap:10px;}
.msg{max-width:70%;padding:12px 16px;border-radius:20px;line-height:1.2;box-shadow:0 4px 18px rgba(0,0,0,0.5);opacity:0;transform:translateY(8px);animation:fadeSlide 0.25s forwards;}
.msg.in{background:linear-gradient(135deg,var(--neon-violet),var(--neon-blue));color:#fff;align-self:flex-start;}
.msg.out{background:linear-gradient(135deg,var(--neon-mint),var(--neon-blue));color:#04020a;font-weight:600;align-self:flex-end;}
@keyframes fadeSlide{to{opacity:1;transform:translateY(0);}}
.input-bar{display:flex;gap:8px;align-items:center;padding:10px;border-radius:12px;margin-top:10px;}
.input-bar input[type=text]{flex:1;padding:10px 12px;border-radius:999px;border:none;outline:none;background:rgba(255,255,255,0.03);color:#fff;}
.send-btn{background:linear-gradient(135deg,var(--neon-mint),var(--neon-blue));padding:10px 14px;border-radius:999px;cursor:pointer;color:#04020a;font-weight:700;border:none;transition:all .15s;box-shadow:0 6px 18px var(--neon-mint),0 0 12px var(--neon-blue);}
.send-btn:hover{transform:scale(1.05);filter:drop-shadow(0 8px 16px var(--neon-blue));}

/* Right panel: saved contacts / info */
.info-pane{height:calc(100vh - 220px);overflow:auto;padding:12px;display:flex;flex-direction:column;gap:12px;}
.info-pane h3{font-family:'Orbitron';color:var(--neon-blue);margin:0;margin-bottom:6px;}
.saved-list{display:grid;gap:8px;}

/* Footer */
.footer{position:fixed;bottom:0;left:0;right:0;height:78px;display:flex;align-items:center;justify-content:center;backdrop-filter:blur(14px);background:rgba(0,0,0,0.35);box-shadow:0 -8px 25px rgba(0,0,0,0.1);z-index:100;}
.footer-inner{display:flex;gap:16px;align-items:center;width:100%;max-width:900px;justify-content:space-around;}
.footer-button{display:flex;flex-direction:column;align-items:center;color:var(--neon-blue);font-size:12px;text-decoration:none;transition:0.2s;}
.footer-button i{font-size:22px;padding:10px;border-radius:50%;background:rgba(0,240,255,0.06);box-shadow:0 4px 12px rgba(0,240,255,0.15);}
.footer-button:hover{color:var(--neon-violet);transform:translateY(-3px);filter:drop-shadow(0 10px 24px rgba(255,0,240,0.06));}
.add-contact-btn{position:relative;top:-20px;border:none;background:linear-gradient(90deg,var(--neon-pink),var(--neon-blue));box-shadow:0 0 24px var(--neon-pink),0 0 36px var(--neon-blue);color:#04020a;}
.add-contact-btn i{font-size:26px;padding:14px;border-radius:50%;}
.add-contact-btn span{font-size:10px;font-weight:700;margin-top:2px;}

/* Empty placeholder */
.empty{opacity:0.6;text-align:center;padding:18px;color:rgba(255,255,255,0.6);border-radius:8px;background:rgba(255,255,255,0.02);}
.badge{background:linear-gradient(90deg,var(--neon-mint),var(--neon-violet));color:#04020a;padding:4px 8px;border-radius:8px;font-weight:700;font-size:12px;}
</style>
</head>
<body>

<!-- HEADER -->
<header class="header">
  <div class="brand">
    <div class="logo">ZC</div>
    <h1>ZepChat</h1>
  </div>
  <div class="icons">
    <i class="fas fa-bell" title="Notifications"></i>
    <i class="fas fa-cog" title="Settings"></i>
  </div>
</header>

<!-- APP GRID -->
<div class="app">
  <!-- LEFT: Contacts -->
  <aside class="panel">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
      <h3 style="font-family:Orbitron;margin:0">Contacts</h3>
      <span class="badge" id="savedCount">0</span>
    </div>
    <input id="quickSearch" type="search" placeholder="Search contacts..." oninput="filterContacts()" class="w-full px-3 py-2 rounded-md bg-[rgba(255,255,255,0.03)] outline-none mb-2"/>
    <div class="contacts-list" id="contactsList"></div>
  </aside>

  <!-- CENTER: Chat -->
  <section class="panel flex flex-col">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px">
      <div>
        <div id="activeName" style="font-weight:700;font-family:Orbitron">Select a contact</div>
        <div id="activeInfo" style="font-size:12px;color:rgba(255,255,255,0.6)"></div>
      </div>
    </div>
    <div class="chat-window">
      <div class="chat-messages" id="messagesArea">
        <div class="empty" id="noMessages">No chat selected â€” pick a contact to start messaging.</div>
      </div>
      <div class="input-bar" id="chatInputBar" style="display:none">
        <input type="text" id="messageInput" placeholder="Type a message..." onkeydown="if(event.key==='Enter') sendMessage()" />
        <button class="send-btn" onclick="sendMessage()"><i class="fas fa-paper-plane"></i></button>
      </div>
    </div>
  </section>

  <!-- RIGHT: Info panel -->
  <aside class="panel info-pane">
    <h3>Saved Contacts</h3>
    <div id="savedContactsList" class="saved-list"></div>
  </aside>
</div>

<!-- FOOTER -->
<footer class="footer">
  <div class="footer-inner">
    <a class="footer-button" href="#" onclick="scrollToContacts()"><i class="fas fa-address-book"></i><span>Contacts</span></a>
    <a class="footer-button" href="#" onclick="initCall()"><i class="fas fa-phone"></i><span>Call</span></a>
    <a class="footer-button" href="#" onclick="focusChat()"><i class="fas fa-comments"></i><span>Chat</span></a>
    <button class="footer-button add-contact-btn" title="Add Contact" onclick="document.getElementById('contactUpload').click()">
      <i class="fas fa-plus"></i><span>Add</span>
    </button>
  </div>
</footer>

<input id="contactUpload" type="file" accept=".csv,.vcf,text/*" style="display:none" />

<script>
/* ---------------------------
   Local storage for contacts/messages
---------------------------- */
const STORAGE_KEY='zepchat_savedContacts';
const MSG_KEY='zepchat_messages';

function loadSavedContacts(){return JSON.parse(localStorage.getItem(STORAGE_KEY)||'[]');}
function saveSavedContacts(list){localStorage.setItem(STORAGE_KEY,JSON.stringify(list));renderContactsList();renderSavedList();}
function loadMessages(){return