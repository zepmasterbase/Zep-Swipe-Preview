<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Zep Swipe — Student Dashboard</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/ethers@6.6.0/dist/ethers.min.js"></script>

<style>
/* ---------------------------------------
   THEME
---------------------------------------- */
:root{
  --zep-blue:#00f0ff;
  --zep-violet:#9c4dff;
  --zep-dark:#020012;
  --glass:rgba(255,255,255,0.06);
  --bg:radial-gradient(circle at 20% 10%, #040016 0%, #000008 100%);
}
body{
  margin:0;
  background:var(--bg);
  color:#fff;
  font-family:'Poppins',sans-serif;
  padding-bottom:110px;
}

/* ---------------------------------------
   HEADER
---------------------------------------- */
.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:16px;
  margin:18px;
  background:var(--glass);
  border-radius:16px;
  border:1px solid rgba(255,255,255,0.12);
  backdrop-filter:blur(12px);
  box-shadow:0 0 30px rgba(0,240,255,0.12);
  animation:headerPulse 3s infinite alternate;
}
@keyframes headerPulse{
  0%{box-shadow:0 0 15px rgba(0,240,255,0.15);}
  100%{box-shadow:0 0 40px rgba(156,77,255,0.4);}
}
.brand{
  font-size:22px;
  font-family:'Orbitron';
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
.small{font-size:13px; opacity:0.85;}

.addr{
  font-family:'Orbitron';
  font-size:14px;
  color:#caffff;
}
.logout{
  background:transparent;
  border:0;
  cursor:pointer;
  filter:drop-shadow(0 0 12px rgba(255,60,60,0.8));
}

/* ---------------------------------------
   MAIN CARD
---------------------------------------- */
.card{
  margin:18px;
  padding:18px;
  background:var(--glass);
  border-radius:16px;
  border:1px solid rgba(255,255,255,0.08);
  backdrop-filter:blur(12px);
  box-shadow:0 10px 40px rgba(0,240,255,0.08);
}

/* ---------------------------------------
   GLOW BUTTONS (Clickable)
---------------------------------------- */
.glow-btn{
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  border-radius:18px;
  padding:18px;
  color:#000;
  text-align:center;
  font-family:'Orbitron';
  font-weight:700;
  box-shadow:0 0 25px rgba(0,240,255,0.35);
  animation:pulseGlow 2.8s infinite alternate ease-in-out;
  cursor:pointer;
  text-decoration:none;
  display:block;
}
@keyframes pulseGlow{
  0%{box-shadow:0 0 15px rgba(0,240,255,0.25);}
  100%{box-shadow:0 0 40px rgba(156,77,255,0.45);}
}

/* ---------------------------------------
   DISABLED BUTTONS (No Click)
---------------------------------------- */
.disabled-btn{
  background:rgba(255,255,255,0.05);
  border-radius:18px;
  padding:18px;
  opacity:0.35;
  text-align:center;
  font-weight:600;
  font-family:'Orbitron';
  pointer-events:none;
}

/* ---------------------------------------
   FOOTER NAV
---------------------------------------- */
.footer{
  position:fixed;
  bottom:0;
  left:0;
  right:0;
  background:rgba(0,0,0,0.55);
  backdrop-filter:blur(12px);
  display:flex;
  justify-content:space-around;
  padding:14px;
  border-top:1px solid rgba(255,255,255,0.06);
}

.fbtn{
  width:52px;
  height:52px;
  border-radius:16px;
  background:rgba(255,255,255,0.05);
  display:flex;
  justify-content:center;
  align-items:center;
  transition:0.25s;
  filter:drop-shadow(0 0 12px rgba(0,240,255,0.25));
}
.fbtn.active{
  animation:pulseGlow 3s infinite alternate;
}
.fbtn svg{
  width:28px;
}

/* ETH PRICE GRAPH SIMULATION */
.graph{
  margin-top:12px;
  height:65px;
  width:100%;
  background:linear-gradient(180deg, rgba(0,240,255,0.1), rgba(156,77,255,0.05));
  border-radius:12px;
  border:1px solid rgba(255,255,255,0.05);
  backdrop-filter:blur(6px);
}
</style>
</head>
<body>

<!-- HEADER -->
<div class="header">
  <div>
    <div class="brand">Zep Swipe</div>
    <div class="small">Student Dashboard — MVP</div>
  </div>

  <div style="text-align:right;">
    <div id="walletShort" class="addr">—</div>
    <button class="logout" id="logoutBtn">
      <svg width="22" height="22" fill="none" stroke="#ff5b5b" stroke-width="1.6">
        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
        <polyline points="16 17 21 12 16 7"/>
        <line x1="21" y1="12" x2="9" y2="12"/>
      </svg>
    </button>
  </div>
</div>

<!-- CARD: WALLET BALANCE -->
<div class="card">
  <h3 style="font-family:Orbitron; margin:0; font-size:20px;">Wallet Overview</h3>
  <p class="small">Your student wallet balance & prices</p>

  <div style="margin-top:12px;">
    <strong>ZAC Balance:</strong> <span id="zacAmount">25 ZAC</span><br>
    <strong>ZAC Value:</strong> <span id="zacUSD">$3.75</span><br>
    <strong>ETH Price:</strong> <span id="ethPrice">$0.00</span>

    <div class="graph"></div>
  </div>

  <div style="margin-top:18px; display:grid; gap:12px;">
    <a href="wallet.html" class="glow-btn">Wallet</a>
    <a href="learn-earn.html" class="glow-btn">Earn ZAC</a>
    <a href="zep-ai.html" class="glow-btn">Zep AI</a>
  </div>
</div>

<!-- CARD: DISABLED FEATURES -->
<div class="card">
  <h3 style="font-family:Orbitron; margin:0; font-size:20px;">Coming Soon</h3>
  <p class="small">Features currently disabled for MVP</p>

  <div style="margin-top:16px; display:grid; gap:12px;">
    <div class="disabled-btn">Parcel On</div>
    <div class="disabled-btn">Swipe Rides</div>
    <div class="disabled-btn">Shop</div>
    <div class="disabled-btn">Marketplace</div>
  </div>
</div>

<!-- FOOTER -->
<div class="footer">
  <div class="fbtn disabled"><!-- empty --></div>
  <div class="fbtn disabled"><!-- empty --></div>

  <a href="profile.html" class="fbtn active">
    <svg viewBox="0 0 24 24" stroke="url(#g4)" fill="none" stroke-width="1.6">
      <circle cx="12" cy="8" r="3"/>
      <path d="M4 20c1.5-4 7-6 8-6s6.5 2 8 6"/>
      <defs>
        <linearGradient id="g4" x1="0" x2="1">
          <stop stop-color="#00f0ff"/>
          <stop stop-color="#9c4dff"/>
        </linearGradient>
      </defs>
    </svg>
  </a>

  <div class="fbtn disabled"><!-- empty --></div>
</div>

<script>
/* ---------------------------------------
   LOGIN SESSION
---------------------------------------- */
function redirectLogin(){
  location.href="student-login.html";
}

document.getElementById("logoutBtn").onclick = () => {
  localStorage.removeItem("zepStudent");
  redirectLogin();
};

window.onload = async () => {
  const session = JSON.parse(localStorage.getItem("zepStudent"));
  if(!session || !session.loggedIn){ redirectLogin(); return; }

  document.getElementById("walletShort").textContent =
    session.wallet.slice(0,6)+"..."+session.wallet.slice(-4);

  loadPrices();
};

/* ---------------------------------------
   FETCH ETH PRICE
---------------------------------------- */
async function loadPrices(){
  try{
    const r = await fetch("https://api.coinbase.com/v2/prices/ETH-USD/spot");
    const j = await r.json();
    const eth = Number(j.data.amount).toFixed(2);
    document.getElementById("ethPrice").textContent = "$"+eth;
  }catch(e){
    document.getElementById("ethPrice").textContent = "$—";
  }

  // ZAC simulated price
  const zacPrice = 0.15;
  const zacBal = 25;
  document.getElementById("zacAmount").textContent = zacBal+" ZAC";
  document.getElementById("zacUSD").textContent = "$"+(zacBal*zacPrice).toFixed(2);
}
</script>
</body>
</html>