<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Zep Swipe â€” Student Dashboard</title>

<!-- Tailwind (CDN) -->
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

<style>
:root{
  --neon-blue:#00f0ff;
  --neon-pink:#ff00f0;
  --neon-green:#3affc1;
  --glass: rgba(255,255,255,0.05);
}

body{
  font-family:'Poppins',sans-serif;
  margin:0;
  background: radial-gradient(circle at 30% 10%, #09001c 0%, #02000a 100%);
  color:#fff;
  -webkit-font-smoothing:antialiased;
  padding-bottom:90px;
}

/* Header */
.header {
  position:sticky; top:0; z-index:60;
  display:flex; justify-content:space-between; align-items:center;
  padding:14px 18px;
  background: rgba(255,255,255,0.06);
  border-bottom-left-radius:14px; border-bottom-right-radius:14px;
  backdrop-filter: blur(16px) saturate(160%);
  box-shadow:0 8px 32px rgba(0,0,0,0.45);
}

.logo {
  display:flex; align-items:center; gap:12px;
}
.logo h1{
  font-family:'Orbitron',sans-serif;
  font-size:20px; margin:0;
  background: linear-gradient(90deg,var(--neon-blue),var(--neon-pink));
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;
  letter-spacing:1.4px;
}
.logo small { display:block; font-size:11px; color:#b9eaff; opacity:0.8; margin-top:-2px; }

/* Glass Card */
.glass {
  background: var(--glass);
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.12);
  padding: 16px;
  backdrop-filter: blur(16px) saturate(120%);
  box-shadow: 0 4px 26px rgba(0,0,0,0.45);
}

/* Total Balance */
.total-balance{
  font-family:'Orbitron',sans-serif;
  font-size:29px;
  background: linear-gradient(90deg,var(--neon-blue),var(--neon-pink));
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;
}

/* Sub Balance */
.sub-bal {
  display:flex; gap:8px; margin-top:10px;
}
.sub-bal .item{
  flex:1;
  background: rgba(255,255,255,0.04);
  padding:10px; border-radius:12px; text-align:center;
  border:1px solid rgba(255,255,255,0.08);
  transition: background .25s ease;
}
.sub-bal .item:hover{
  background: rgba(255,255,255,0.08);
}
.sub-bal h4{ margin:0; color:var(--neon-blue); font-size:12px; font-weight:600; }
.sub-bal p{ margin:6px 0 0; font-weight:700; }

/* Buttons */
.actions { display:grid; grid-template-columns:repeat(2,1fr); gap:10px; margin-top:14px; }
.action-btn{
  display:flex; align-items:center; gap:10px; justify-content:center;
  padding:12px; border-radius:12px; font-weight:600; color:#050014; cursor:pointer;
  transition: transform .18s, box-shadow .18s;
}
.action-btn:hover{ transform:translateY(-3px); }

.pink{ background:linear-gradient(90deg,var(--neon-pink),#ff6af5); }
.cyan{ background:linear-gradient(90deg,var(--neon-blue),#7affdb); }
.neon-ghost{ background: transparent; border:1px solid rgba(255,255,255,0.12); color:#d7faff; }

/* Transactions */
.tx-list { margin-top:12px; display:flex; flex-direction:column; gap:8px; }
.tx{
  display:flex; justify-content:space-between; padding:10px; border-radius:12px;
  background: rgba(255,255,255,0.04);
  border:1px solid rgba(255,255,255,0.08);
  align-items:center; transition: background .25s ease;
}
.tx:hover{ background: rgba(255,255,255,0.1); }
.tx .meta{ display:flex; gap:10px; align-items:center; }
.tx .badge { padding:4px 8px; border-radius:999px; font-weight:700; font-size:12px; }
.badge-green{ background: rgba(0,240,255,0.12); color:var(--neon-blue); }
.badge-pink{ background: rgba(255,0,240,0.10); color:var(--neon-pink); }

/* Study Buddy Modal */
.modal-backdrop { position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:90; background:rgba(5,7,14,0.7); }
.modal-card { width:92%; max-width:520px; padding:18px; border-radius:12px; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.04); box-shadow:0 8px 40px rgba(0,0,0,0.6); }
.modal-card h3{ font-family:'Orbitron',sans-serif; margin:0 0 8px 0; color:var(--neon-blue); }

/* Footer Buttons */
footer{
  position:fixed; bottom:10px; left:50%; transform:translateX(-50%);
  background: rgba(8,8,16,0.75);
  border-radius:999px; padding:10px 14px;
  border:1px solid rgba(255,255,255,0.08); z-index:100;
  display:flex; gap:12px; align-items:center; backdrop-filter: blur(14px) saturate(160%);
}
.fbtn{
  width:54px; height:54px; border-radius:999px; display:flex; align-items:center; justify-content:center;
  background: rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.1);
  transition: transform .18s, box-shadow .18s;
}
.fbtn:hover{
  transform:translateY(-4px); box-shadow:0 10px 26px rgba(0,0,0,0.55);
}

/* Responsive Tweaks */
@media (min-width:768px){
  .container { max-width:720px; margin:18px auto; }
  .actions { grid-template-columns: repeat(3,1fr); }
}
</style>
</head>
<body>

<!-- HEADER -->
<header class="header">
  <div class="logo">
    <svg width="40" height="40" viewBox="0 0 64 64" fill="none" aria-hidden>
      <defs>
        <radialGradient id="g" cx="50%" cy="30%">
          <stop offset="0" stop-color="#9b59b6"/><stop offset="1" stop-color="#00f0ff"/>
        </radialGradient>
      </defs>
      <circle cx="32" cy="32" r="30" stroke="rgba(255,255,255,0.06)" fill="url(#g)"/>
      <text x="32" y="37" text-anchor="middle" font-family="Orbitron" font-weight="700" font-size="18" fill="#050014">Z</text>
    </svg>
    <div>
      <h1>ZEP SWIPE</h1>
      <small>ZepVibe Â· Student Hub</small>
    </div>
  </div>

  <div style="display:flex;align-items:center;gap:12px">
    <a class="glass" href="profile.html" style="display:inline-flex;align-items:center;gap:10px;padding:8px 10px;border-radius:999px;text-decoration:none;color:#dffbff">
      <img id="miniAvatar" src="https://via.placeholder.com/34/00f0ff/000000?text=A" alt="avatar" style="width:34px;height:34px;border-radius:50%;border:2px solid rgba(255,255,255,0.06);object-fit:cover">
      <div style="text-align:left">
        <div style="font-size:13px;font-weight:700">Ama</div>
        <div style="font-size:11px;color:#bfefff">Student ID: #S-1024</div>
      </div>
    </a>

    <button id="logout" title="Logout" style="margin-left:6px;background:linear-gradient(90deg,#ff6fb0,#ff0044);border-radius:999px;padding:8px 10px;border:none;cursor:pointer;box-shadow:0 6px 18px rgba(255,0,80,0.12)">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="#050014" aria-hidden>
        <path d="M13 2v10h-2V2h2zm-1 20a9 9 0 110-18 9 9 0 010 18z"/>
      </svg>
    </button>
  </div>
</header>

<!-- CONTENT -->
<div class="container px-4 mt-4">
  <div class="glass" style="display:flex;flex-direction:column;gap:8px">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <div>
        <div style="font-size:12px;color:#bfefff;font-weight:700">Total Portfolio</div>
        <p id="totalBalance" class="total-balance">$0.00</p>
      </div>
      <div style="text-align:right">
        <div style="font-size:12px;color:#bfefff">Updated</div>
        <div style="font-size:12px;color:#9fdfff" id="lastUpdated">â€”</div>
      </div>
    </div>

    <div class="sub-bal" role="group" aria-label="sub balances">
      <div class="item">
        <h4>ZAC</h4>
        <p id="zacBalance">0.00</p>
      </div>
      <div class="item">
        <h4>USDT</h4>
        <p id="usdtBalance">0.00</p>
      </div>
    </div>

    <div class="actions">
      <button class="action-btn pink" id="zepvibeBtn" onclick="location.href='social.html'">ZepVibe</button>
      <button class="action-btn cyan" id="rewardsBtn" onclick="location.href='learn-earn.html'">Rewards</button>
      <button class="action-btn neon-ghost" id="parcelBtn" onclick="location.href='delivery.html'">ParcelOn</button>
      <button class="action-btn neon-ghost" id="studyBuddyBtn" onclick="openStudyBuddy()">Ask Zep AI ðŸ¤–</button>
    </div>
  </div>

  <div class="glass" style="margin-top:12px">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <strong style="color:var(--neon-blue)">Live Earnings</strong>
      <small style="color:#bfefff" id="liveStatus">Idle</small>
    </div>
    <div style="margin-top:10px" id="liveFeed">
      <div style="font-size:13px;color:#cfefff">No live events yet.</div>
    </div>
  </div>

  <div style="margin-top:12px">
    <h3 style="color:var(--neon-blue);font-family:Orbitron;margin-bottom:8px">Transaction History</h3>
    <div class="glass" id="txContainer">
      <div class="tx-list" id="txList">
        <div class="tx">
          <div class="meta"><strong>Ride Payment</strong></div>
          <div><span class="badge badge-green">+5 ZAC</span></div>
        </div>
        <div class="tx">
          <div class="meta"><strong>ZepVibe Reward</strong></div>
          <div><span class="badge badge-green">+2 USDT</span></div>
        </div>
      </div>
      <a href="dashboard-wallet.html" style="display:block;text-align:center;margin-top:10px;color:#9fefff;font-weight:600">View Full Wallet â†’</a>
    </div>
  </div>
</div>

<!-- Study Buddy Modal -->
<div class="modal-backdrop" id="studyModal">
  <div class="modal-card">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px">
      <h3>Zep Study Buddy</h3>
      <button onclick="closeStudyBuddy()" style="background:transparent;border:none;color:#ff99cc;font-weight:700;font-size:20px;cursor:pointer">Ã—</button>
    </div>
    <p style="margin:0 0 8px;color:#d8f7ff;font-size:13px">Ask Zep anything about crypto, trading, or your study material. (Demo mode)</p>
    <textarea id="studyQuestion" rows="4" placeholder="Type your question..." style="width:100%;padding:10px;border-radius:8px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.04);color:#e7fbff"></textarea>
    <div style="display:flex;gap:8px;margin-top:10px">
      <button class="action-btn cyan" style="flex:1" onclick="askZep()">Ask</button>
      <button class="action-btn neon-ghost" style="flex:1" onclick="location.href='studybuddy.html'">Open Full â†’</button>
    </div>
    <div id="studyResult" style="margin-top:12px"></div>
  </div>
</div>

<!-- Footer -->
<footer role="navigation" aria-label="main navigation">
  <a class="fbtn" href="chat.html" title="Chat (ZepVibe)">
    <svg viewBox="0 0 24 24" fill="#00f0ff" xmlns="http://www.w3.org/2000/svg"><path d="M4 4h16v10H7l-3 3V4z"/></svg>
  </a>
  <a class="fbtn" href="dashboard-store.html" title="Store">
    <svg viewBox="0 0 24 24" fill="#00f0ff" xmlns="http://www.w3.org/2000/svg"><path d="M3 9l1-5h16l1 5H3zm0 2h18v11H3V11zm6 2v7h6v-7H9z"/></svg>
  </a>
  <a class="fbtn" href="ride-hailing.html" title="Ride">
    <svg viewBox="0 0 24 24" fill="#00f0ff" xmlns="http://www.w3.org/2000/svg"><path d="M5 11l1.5-4.5h11L19 11H5zm14 2a2 2 0 012 2v3h-2v2h-2v-2H7v2H5v-2H3v-3a2 2 0 012-2h14zm-11 2a1 1 0 100 2 1 1 0 000-2z"/></svg>
  </a>
  <a class="fbtn" href="dashboard-wallet.html" title="Wallet">
    <svg viewBox="0 0 24 24" fill="#00f0ff" xmlns="http://www.w3.org/2000/svg"><path d="M2 6a2 2 0 012-2h16a2 2 0 012 2v12a2 2 0 01-2 2H4a2 2 0 01-2-2V6zm16 0H4v12h14v-2h-5a3 3 0 010-6h5V6z"/></svg>
  </a>
  <a class="fbtn" href="profile.html" title="Profile">
    <svg viewBox="0 0 24 24" fill="#00f0ff" xmlns="http://www.w3.org/2000/svg"><path d="M12 12c2.67 0 8 1.34 8 4v4H4v-4c0-2.66 5.33-4 8-4zm0-2a4 4 0 110-8 4 4 0 010 8z"/></svg>
  </a>
</footer>

<script>
// Dashboard behavior (balances, live events, study buddy)
const DEFAULT_ZAC = 450.00;
const DEFAULT_USDT = 120.00;

function readBalances(){
  const zac = parseFloat(localStorage.getItem('walletZAC')) || DEFAULT_ZAC;
  const usdt = parseFloat(localStorage.getItem('walletUSDT')) || DEFAULT_USDT;
  return { zac, usdt };
}

function renderBalances(){
  const { zac, usdt } = readBalances();
  const total = zac + usdt;
  document.get